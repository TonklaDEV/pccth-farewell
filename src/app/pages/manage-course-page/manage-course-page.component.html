
  <!-- เนื้อหาของคอมโพเนนต์ของคุณจะแสดงเฉพาะถ้า showComponent เป็น true -->
<div class="bg-transparent">
  <div
    class="text-font-header rounded-md shadow p-6 pb-6 w-full bg-white dark:text-font-header-dark dark:bg-content-dark">
    <p class="text-2xl" id="course-form">ข้อมูลหัวข้อการอบรม</p>
    <br>
    <div class="text-[#566a7f] rounded-md shadow p-6 w-full bg-gray-100 dark:text-[#e4e6eb] dark:bg-[#242526]">
      <form  [formGroup]="CourseForm">
        <div class="grid grid-cols-3 gap-5">
          <div class="col-span-2 rounded-lg h-12 p-2">
            <div class="form-group flex items-center mb-8">
              <label for="course_name" class="w-32">หัวข้อในการอบรม:</label>
              <div class="relative flex-grow">
                <input type="text" id="course_name" formControlName="course_name"
                  class="form-control appearance-none rounded-md border outline-none my-5 py-2 px-3 w-full dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
                <span *ngIf="CourseForm.get('course_name').invalid"
                  class="absolute text-red-700 -right-2 top-1 dark:text-red-500 my-2">*</span>
              </div>
            </div>
          </div>
          <div class="rounded-lg h-12">
            <div class="form-group flex items-center mb-8 p-2">
              <label for="date" class="w-32">วันที่อบรม:</label>
              <div
                class="relative appearance-none mx-3 rounded-md border bg-white outline-none my-5 py-2.5 px-2 xl:px-3 w-full xl:w-11/12 xl:mx-1 w-60 dark:border-[#3a3b3c] dark:bg-[#3a3b3c] focus:ring-1 focus:border-[#696cff] focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear">
                <mat-date-range-input class="" [rangePicker]="picker">
                  <input matStartDate [(ngModel)]="startDate" formControlName="startDate" placeholder="วันที่เริ่ม" />
                  <input matEndDate [(ngModel)]="endDate" formControlName="endDate" placeholder="วันสุดท้าย" />
                </mat-date-range-input>
                <mat-datepicker-toggle class="absolute right-0 top-0.5 dark:text-white" matIconSuffix
                  [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
                <span *ngIf="CourseForm.get('endDate').invalid || CourseForm.get('endDate').invalid "
                  class="absolute text-red-700 -right-2 -top-2 dark:text-red-500">*</span>
              </div>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-5 pt-6 mb-4 mt-6">
          <div class="rounded-lg">
            <div class="form-group flex items-center p-2">
              <label for="time" class="w-32">เวลาที่อบรม:</label>
              <div class="relative pr-2">
                <input type="time" id="timestart" formControlName="timestart"
                  class="form-control appearance-none rounded-md border outline-none py-2 px-3 w-full xl:w-full dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
              </div><span class="">-</span>
              <div class="relative pl-2">
                <input type="time" id="timeend" formControlName="timeend"
                  class="form-control appearance-none rounded-md border outline-none  py-2 px-3 w-full xl:w-full dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
                <div *ngIf="CourseForm.get('timestart').invalid || CourseForm.get('timeend').invalid"
                  class="absolute top-0 right-0 mt-1">
                  <span class="absolute text-red-700 -right-2 -top-2 dark:text-red-500">*</span>
                </div>
              </div>
            </div>
          </div>
          <div class="rounded-lg">
            <div class="form-group flex items-center p-2 relative">
              <label for="note" class="w-32">เพิ่มเติม:</label>
              <textarea id="note" formControlName="note"
                class="form-control appearance-none rounded-md border outline-none h-11 py-2 px-3 w-full xl:w-11/12 dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]"></textarea>
            </div>
          </div>
        </div>



        <div class="grid grid-cols-3 gap-5">
          <div class="rounded-lg h-12">
            <div class="form-group flex items-center p-2">
              <label for="price" class="w-32">ค่าใช้จ่าย:</label>
              <div class="relative flex-grow">
                <input type="text" id="price" formControlName="price" (blur)="onBlurPrice($event)"
                  (keypress)="onInputKeyPressPrice($event)"
                  class="form-control appearance-none rounded-md border outline-none py-2 px-3 w-full xl:w-full dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
                <span *ngIf="CourseForm.get('price').invalid"
                  class="absolute text-red-700 -right-2 -top-2 dark:text-red-500">*</span>
              </div>
            </div>
          </div>
          <div class="rounded-lg h-12">
            <div class="form-group flex items-center p-2">
              <label for="priceProject" class="w-32">ราคาโครงการ:</label>
              <input type="text" id="priceProject" formControlName="priceProject" (blur)="onBlurpriceProject($event)"
                (keypress)="onInputKeyPresspriceProject($event)"
                class="form-control appearance-none rounded-md border outline-none py-2 px-3 w-full xl:w-11/12 dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
            </div>
          </div>
        </div>


        <div class="grid grid-flow-col-dense gap-5 mt-8 mb-4">
          <div class="rounded-lg">
            <div class="form-group flex items-center p-2">
              <label for="institute" class="w-32">ผู้จัดอบรม:</label>
              <div class="relative flex-grow">
                <input type="text" id="institute" formControlName="institute"
                  class="form-control appearance-none rounded-md border outline-none py-2 px-3 w-full  dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]">
                <span *ngIf="CourseForm.get('institute').invalid"
                  class="absolute text-red-700 -right-2 -top-2 dark:text-red-500">*</span>
              </div>
            </div>
          </div>
          <div class="rounded-lg">
            <div class="form-group flex items-center p-2 relative">
              <label for="place" class="w-32">สถานที่ฝึกอบรม:</label>
              <textarea id="place" formControlName="place"
                class="form-control appearance-none rounded-md border outline-none h-11 py-2 px-3 w-full xl:w-11/12 dark:border-border-dark dark:bg-[#3a3b3c] focus:ring-1 focus:ring-font-link focus:placeholder:pl-2 placeholder:transition-all placeholder:duration-200 placeholder:ease-linear placeholder:text-[#b4b4b4] dark:placeholder:text-[#b4b4b4]"></textarea>
              <span *ngIf="CourseForm.get('place').invalid"
                class="absolute text-red-700 right-0 -top-1 dark:text-red-500">*</span>
            </div>
          </div>
        </div>

      </form>
    </div>


    <div class="flex justify-center my-6">
      <div>
        <button type="submit" (click)="isEditMode ? updateSv1Btn() : addSv1Btn()" [disabled]="CourseForm.invalid"
          class="text-white p-2 w-32  mr-1 rounded shadow-md {{ (CourseForm.invalid) ? 'cursor-not-allowed bg-gray-400 border-2 border-gray-400' : 'cursor-pointer bg-[#696cf8] hover:bg-[#696cf8] hover:text-white border-2 border-[#696cf8]' }}">
          <i class="fa-solid fa-plus mr-1"></i> {{ isEditMode ? 'Update' : 'Add' }}
        </button>
      </div>

      <div>
        <button type="button" (click)="cancelEdit()" *ngIf="isEditMode"
          class="text-white p-2 w-32 rounded shadow-md bg-red-400 border-2 border-red-400 cursor-pointer hover:bg-red-500">
          <i class="fa-solid fa-times mr-1"></i> Cancel
        </button>
      </div>
    </div>


    <div class="w-full overflow-x-auto rounded-b-md shadow">
      <table id="data-table" class="table-auto text-[#566a7f] text-base w-[75rem] lg:w-full dark:text-white">
        <colgroup>
          <col style="width: 15%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 10%;" />
          <col style="width: 15%;" />
        </colgroup>
        <thead class="text-sm bg-white dark:bg-neutral-800 dark:shadow-none border-b ">
          <tr class="text-center border-b-gray-300 border-b-2 h-16">
            <th scope="col">หัวข้อในการอบรม</th>
            <th scope="col">วันเริ่มอบรม</th>
            <th scope="col">วันสิ้นสุดการอบรม</th>
            <th scope="col">เวลา</th>
            <th scope="col">เพิ่มเติม</th>
            <th scope="col">ค่าใช้จ่าย</th>
            <th scope="col">ค่าใช้จ่ายโปรเจค</th>
            <th scope="col">ผู้จัดอบรม</th>
            <th scope="col">สถานที่ฝึกอบรม</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows"
            class="odd:bg-white dark:odd:bg-[#3a3b3c] dark:even:bg-black even:bg-slate-100 text-center truncate h-20 cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700">
            <td class="text-left overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.course_name }}</td>
            <td class="text-center overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.startDate }}</td>
            <td class="text-center overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.endDate }}</td>
            <td class="text-center overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.time }}</td>
            <td class="text-left overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.note }}</td>
            <td class="text-right overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.price }}</td>
            <td class="text-right overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.priceProject }}</td>
            <td class="text-left overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.institute }}</td>
            <td class="text-left overflow-auto max-w-[10rem] p-3 whitespace-pre-line">{{ row.place }}</td>
            
            <td class="p-2">
              <div class="flex flex-row">
                <button type="submit" (click)="startEdit(row)"
                  class="flex items-center justify-center text-[#FFAB00] rounded w-32 border-2 border-gray-400 mr-1 hover:bg-[#FFAB00] hover:text-white hover:border-[#FFAB00]">
                  <i class="mt-1 mb-1 mr-2 bx bx-edit"></i><span class="mr-1">ปรับปรุงข้อมูล</span>
                </button>

                <button type="submit" (click)="deleteSv1Btn(row)"
                  class="flex items-center justify-center w-24 py-2 mr-1 text-red-700 border-2 border-gray-400 rounded hover:bg-red-700 hover:text-white hover:border-red-700">
                  <i class="mt-1 mb-1 mr-1 bx bx-trash"></i>ลบข้อมูล
                </button>
              </div>
            </td>

          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>